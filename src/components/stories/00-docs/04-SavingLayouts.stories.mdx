import { Meta, Story, Canvas, Props } from "@storybook/addon-docs/blocks";
import { withKnobs } from "@storybook/addon-knobs";
import { action } from '@storybook/addon-actions';
import LayoutSerializer from "../../LayoutSerializer";
import { ViewPort, Left, Top, Right, Bottom, LeftResizable, TopResizable, RightResizable, BottomResizable, Fill } from "../../";
import { green, blue, red, description, lorem } from "../Utils";
import { CommonHeader, PropsTable, StandardProps, AnchoredProps, ResizableProps } from "../Utils";

<CommonHeader />

<Meta title="React Spaces/Persisting layouts" />

## Persisting layouts

React Spaces supports saving layouts by serializing them to the browsers local storage.

To save your layouts, you must wrap your entire layout tree in a `<LayoutSerializer />` and ensure the relevant elements have the `i` prop.

This `i` prop applies to `<LeftResizable />`, `<RightResizable />`, `<TopResizable />`, `<BottomResizable />`.

```tsx
<LayoutSerializer name="storybook-examples">
    <ViewPort>
        <BottomResizable
            i="a"
            size="50%"
        >
            <ViewPort>
                <LeftResizable
                    i="b"
                    size="50%"
                    style={{ background: "green" }}
                ></LeftResizable>
                <Fill style={{ background: "cyan" }}></Fill>
            </ViewPort>
        </BottomResizable>
        <Fill style={{ background: "red" }}></Fill>
    </ViewPort>
</LayoutSerializer>
```

I have opted to **not** support serialization for the `<Custom />`. I believe given that this component is designed to give complete control
over how it is positioned and sizes, then the persistence should be up to the developer.